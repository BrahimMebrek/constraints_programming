using CP;

int nb_sommet = ...;
range sommet = 1..nb_sommet;

int seuil[sommet] = ...;

{int} edge[sommet] = ...;

dvar int x[sommet] in 1..2;

dvar int val_max in 1..4;

maximize val_max;

subject to {
	forall(i in sommet) (sum(j in edge[i]) (x[j] == 1) < seuil[i]);
	val_max == sum(i in sommet) ()x[i] == 1);
}